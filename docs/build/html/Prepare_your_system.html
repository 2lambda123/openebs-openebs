
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Prepare your system (Setup Guide) &#8212; OpenEBS 0.0.2 documentation</title>
    
    <link rel="stylesheet" href="_static/agogo.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.0.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
  </head>
  <body role="document">
    <div class="header-wrapper" role="banner">
      <div class="header">
        <div class="headertitle"><a
          href="index.html">OpenEBS 0.0.2 documentation</a></div>
        <div class="rel" role="navigation" aria-label="related navigation">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a>
        </div>
       </div>
    </div>

    <div class="content-wrapper">
      <div class="content">
        <div class="document">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="prepare-your-system-setup-guide">
<span id="getting-started"></span><h1>Prepare your system (Setup Guide)<a class="headerlink" href="#prepare-your-system-setup-guide" title="Permalink to this headline">¶</a></h1>
<div class="section" id="installing-docdir">
<span id="id1"></span><h2>Getting started<a class="headerlink" href="#installing-docdir" title="Permalink to this headline">¶</a></h2>
<p>This quick start guide helps you to setup a simple OpenEBS Cluster with three machines, VMs or Servers. OpenEBS is both a scale-out and scale-up solution. The OpenEBS cluster created using this guide can be taken into production and can be scaled later, to meet changing storage demands, by adding additional machines to the cluster.</p>
<p>The clients (docker-hosts) can be configured to consume the OpenEBS storage either via Network(iSCSI) or using TCMU. This guide will show connecting to storage using iSCSI.</p>
<p>In this guide, we will setup an simple OpenEBS cluster with three machines:</p>
<p>master-01 used as OpenEBS Maya Master (omm) and host-01 and host-02 used as OpenEBS Storage Host (osh).</p>
<p>If you plan to setup using VMs on Virtual Box, you can skip down to the section of Preparing machines using Vagrant below.</p>
<img alt="_images/gettingstarted.png" src="_images/gettingstarted.png" />
</div>
<div class="section" id="prepare-your-machines-for-openebs-installation">
<span id="fetching-the-data"></span><h2>Prepare your machines for OpenEBS installation<a class="headerlink" href="#prepare-your-machines-for-openebs-installation" title="Permalink to this headline">¶</a></h2>
<p>Since OpenEBS is delivered through containers, the OpenEBS hosts can be run on any operating system with container engine. This guide will use Ubuntu 16.04 and docker.</p>
<div class="section" id="prepare-software">
<h3>Prepare Software<a class="headerlink" href="#prepare-software" title="Permalink to this headline">¶</a></h3>
<p>OpenEBS is a software-only solution that can be installed using the released binaries or built and installed directly from source. In this guide we will Ubuntu 16.04 as the underlying operating system.</p>
<p>To download and install, you will require wget and unzip to be present on the operating system.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">update</span>
<span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="o">-</span><span class="n">y</span> <span class="n">wget</span> <span class="n">unzip</span>
</pre></div>
</div>
</div>
<div class="section" id="prepare-network">
<h3>Prepare Network<a class="headerlink" href="#prepare-network" title="Permalink to this headline">¶</a></h3>
<p>ypically, the storage is accessed via a different network (with high bandwidth 10G or 40G et.,) than management on 1G. You will need to identify the IP address on which the management traffic flows and the interface that is used for data.</p>
<p>It is possible that same interface can be used for both management and data.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>ubuntu@host-01:~$ ip addr show
1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet 127.0.0.1/8 scope host lo
       valid_lft forever preferred_lft forever
    inet6 ::1/128 scope host
       valid_lft forever preferred_lft forever
2: enp0s3: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP group default qlen 1000
    link/ether 02:d8:e4:47:7a:33 brd ff:ff:ff:ff:ff:ff
    inet 10.0.2.15/24 brd 10.0.2.255 scope global enp0s3
       valid_lft forever preferred_lft forever
    inet6 fe80::d8:e4ff:fe47:7a33/64 scope link
       valid_lft forever preferred_lft forever
3: enp0s8: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP group default qlen 1000
    link/ether 08:00:27:9a:7e:b0 brd ff:ff:ff:ff:ff:ff
    inet 172.28.128.9/24 brd 172.28.128.255 scope global enp0s8
       valid_lft forever preferred_lft forever
    inet6 fe80::a00:27ff:fe9a:7eb0/64 scope link
       valid_lft forever preferred_lft forever
ubuntu@host-01:~$
</pre></div>
</div>
<p>For example, we will be using the interface enp0s8 and subnet 172.28.128.0/24 for both management and data in this guide.</p>
</div>
<div class="section" id="prepare-disk-storage">
<h3>Prepare Disk Storage<a class="headerlink" href="#prepare-disk-storage" title="Permalink to this headline">¶</a></h3>
<p>You can use maya to manage the local and remote disks. Optionally create RAID and filesystem layer ontop of the raw disks, etc.,</p>
<p>In this guide for sake of simplicity, we will use the following directory /opt/openebs/. Ensure that the directory is writeable. Note that you add new replication stores at runtime and attach to VSMs. So when you move this node into production, you can move the content from local directories to local/remote disk based storage.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">mkdir</span> <span class="o">-</span><span class="n">p</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">openebs</span>
<span class="n">sudo</span> <span class="n">chown</span> <span class="o">-</span><span class="n">R</span> <span class="o">&lt;</span><span class="n">docker</span><span class="o">-</span><span class="n">user</span><span class="o">&gt;</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">openebs</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="setup-vagrant-vms-for-openebs-installation">
<h2>Setup Vagrant VMs for OpenEBS installation.<a class="headerlink" href="#setup-vagrant-vms-for-openebs-installation" title="Permalink to this headline">¶</a></h2>
<p>The Vagrantfile is available from github reporsitory. You can either copy/download the Vagrantfile or clone the code to your box. Ensure that you have VirtualBox 5.0.24 and above, Vagrant 1.9.0 and above.</p>
<p>The instructions for setting up using cloned code are as follows:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">openebs</span><span class="o">/</span><span class="n">maya</span><span class="o">.</span><span class="n">git</span>
<span class="n">cd</span> <span class="n">maya</span><span class="o">/</span><span class="n">demo</span>
<span class="n">vagrant</span> <span class="n">up</span>
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
        </div>
        <div class="sidebar">
          <h3>Table Of Contents</h3>
          <ul>
<li class="toctree-l1"><a class="reference internal" href="Overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="Setting up Kubernetes and OpenEBS Clusters.html">Setting up Kubernetes and OpenEBS Clusters</a></li>
<li class="toctree-l1"><a class="reference internal" href="Testing Kubernetes Cluster with OpenEBS Storage.html">Testing Kubernetes Cluster with OpenEBS Storage</a></li>
</ul>

          <div role="search">
            <h3 style="margin-top: 1.5em;">Search</h3>
            <form class="search" action="search.html" method="get">
                <input type="text" name="q" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
            </form>
          </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

    <div class="footer-wrapper">
      <div class="footer">
        <div class="left">
          <div role="navigation" aria-label="related navigaton">
            <a href="genindex.html" title="General Index"
              >index</a>
          </div>
          <div role="note" aria-label="source link">
              <br/>
              <a href="_sources/Prepare_your_system.rst.txt"
                rel="nofollow">Show Source</a>
          </div>
        </div>

        <div class="right">
          
    <div class="footer" role="contentinfo">
        &#169; Copyright 2016 - 2017, CloudByte Inc.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.5.2.
    </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

  </body>
</html>